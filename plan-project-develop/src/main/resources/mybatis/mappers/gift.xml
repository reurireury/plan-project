<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.gift">
	<resultMap id="giftResult" type="giftDTO">
		<result property="category1" column="category1"/>
		<result property="category2" column="category2"/>
		<result property="item_brand" column="item_brand"/>
		<result property="item_name" column="item_name"/>
		<result property="item_price" column="item_price"/>
		<result property="item_image" column="item_image"/>
	</resultMap>
	
	<select id="selectAllGift" resultMap="giftResult">
		<![CDATA[
		select
		 *
		
		 from gift]]>
	</select>
	
	<select id="searchGifts" resultMap="giftResult">
        SELECT *
        FROM gift
        WHERE
            category1 = #{category1, jdbcType=VARCHAR}
            AND category2 = #{category2, jdbcType=VARCHAR}
            AND item_brand = #{item_brand, jdbcType=VARCHAR}
            AND item_name LIKE '%' || #{item_name, jdbcType=VARCHAR} || '%'
    </select>
</mapper>